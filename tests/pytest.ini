# tests/pytest.ini
# Pytest configuration for ICE RAG systems testing
# Defines test discovery, reporting, and execution parameters

[tool:pytest]
# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Reporting
addopts = 
    --verbose
    --tb=short
    --strict-markers
    --strict-config
    --disable-warnings
    --color=yes
    --durations=10
    --cov=tests
    --cov-report=term-missing
    --cov-report=html:tests/coverage_html

# Markers
markers =
    lightrag: LightRAG specific tests
    lazygraphrag: LazyGraphRAG specific tests  
    unified: Unified RAG specific tests
    integration: Integration tests
    slow: Slow running tests
    requires_api_key: Tests requiring OpenAI API key
    requires_dependencies: Tests requiring specific dependencies
    unit: Unit tests
    performance: Performance tests
    smoke: Smoke tests (basic functionality)

# Test execution
timeout = 300
timeout_method = thread

# Filtering
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::ImportWarning
    
minversion = 6.0

# Test environment
env =
    PYTEST_RUNNING = 1
    JUPYTER_EXECUTION_MODE = test