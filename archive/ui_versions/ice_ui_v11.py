import streamlit as st

st.title("ğŸ§Š ICE â€“ Per-Ticker Brief: NVDA")
with st.expander("ğŸ“Œ NVDA â€” August 2, 2025"):

    st.markdown("**TL;DR**")
    st.write("Margin compression and geopolitical risk increase exposure to China slowdown.")

    st.markdown("**ğŸ§­ Top Causal Trace**")
    st.markdown("`NVDA â†’ depends_on â†’ TSMC â†’ exposed_to â†’ China Policy Risk`")
    st.markdown("*Sources: Nvidia 10-Q (2025-07-30), TSMC Call (2025-07-28)*")

    st.markdown("**ğŸ“Š KPI Anchors**")
    st.markdown("- Data Center Revenue YoY: **+19%**, Mgmt guided flat Q3")
    st.markdown("- Gross Margin: **55.1%**, guidance revised â†“")

    st.markdown("**ğŸ¯ Theme Exposure Chips**")
    st.write("â€¢ AI Infrastructure (confidence: 0.91, last_seen: 2025-08-01)")
    st.write("â€¢ China Policy Risk (confidence: 0.86, last_seen: 2025-07-30)")

    st.markdown("**ğŸ“ Soft Signal Highlights**")
    st.write("â€¢ Exec tone cautious on Asia ops [TSMC call, 2025-07-28]")
    st.write("â€¢ Hiring freeze spotted in NVDA careers page [RSS, 2025-08-01]")

    st.markdown("**ğŸ” Confidence & Recency**")
    st.write("Causal Trace Confidence: 0.87 (4 sources), last_seen: 2025-08-02")

    st.markdown("**ğŸ”— Source Jump-Offs**")
    st.markdown("- [Nvidia 10-Q Filing (sec.gov)](https://www.sec.gov)")
    st.markdown("- [TSMC Earnings Call (transcript)](https://seekingalpha.com)")
    st.markdown("- [BAML Tech Note (internal)](#)")

